<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Gu√≠a interactiva - WebScraping.java</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.4/css/bulma.min.css">
  <script>
    function toggleSection(id) {
      const el = document.getElementById(id);
      el.classList.toggle('is-hidden');
    }
  </script>
</head>
<body>
  <!-- Hero -->
<section class="hero is-primary">
  <div class="hero-body">
    <div class="container">
      <div class="columns is-vcentered">
        <!-- Logo a la izquierda -->
        <div class="column is-narrow">
          <figure class="image is-96x96">
            <img src="images/logo_cja.png" alt="Logo del Curso Java Avanzado">
          </figure>
        </div>
        <!-- T√≠tulo y subt√≠tulo a la derecha -->
        <div class="column has-text-centered">
          <h1 class="title">Curso de Java Avanzado</h1>
          <h2 class="subtitle">Domina las tecnolog√≠as modernas con Java</h2>
        </div>
      </div>
    </div>
  </div>
</section>
  <section class="section">
    <div class="container">
      <h1 class="title">üß≠ Gu√≠a del ejemplo del tema 1<code>Sockets</code></h1>
      <p class="subtitle">Ejemplo: <strong>WebScraping</strong></p>

      <div class="box">
        <button class="button is-info is-light" onclick="toggleSection('librerias')">üì¶ Librer√≠as utilizadas en el ejemplo</button>
        <div id="librerias" class="content is-hidden mt-3">
          <ul>
            <li><strong>java.net.URI</strong>: Construcci√≥n y validaci√≥n de direcciones URI.</li>
            <li><strong>java.net.HttpURLConnection</strong>: Conexi√≥n HTTP para enviar y recibir datos.</li>
            <li><strong>java.io.BufferedReader</strong>: Lectura eficiente de texto.</li>
            <li><strong>java.io.InputStreamReader</strong>: Conversi√≥n de bytes a caracteres.</li>
            <li><strong>java.io.IOException</strong>: Manejo de errores de entrada/salida.</li>
            <li><strong>java.net.URISyntaxException</strong>: Manejo de errores en formato URI.</li>
          </ul>
        </div>
      </div>

<div class="box">
  <button class="button is-primary is-light" onclick="toggleSection('explicacion')">üß© Explicaci√≥n del ejemplo paso a paso</button>
  <div id="explicacion" class="content is-hidden mt-3">
    <ol>
      <li>
        <strong>Inicio del programa</strong><br>
        <code>System.out.println("Iniciando web scraping...");</code><br>
        Muestra un mensaje inicial en consola.
      </li>

      <li>
        <strong>Definici√≥n de la URL</strong><br>
        <code>String url = args.length > 0 ? args[0] : "https://java.com";</code><br>
        Se usa la URL pasada como argumento o una por defecto.
      </li>

      <li>
        <strong>Creaci√≥n de URI y conexi√≥n HTTP</strong><br>
        <code>URI uriConnection = new URI(url);</code><br>
        <code>HttpURLConnection con = (HttpURLConnection) uriConnection.toURL().openConnection();</code><br>
        Se valida la URL y se abre una conexi√≥n HTTP.
      </li>

      <li>
        <strong>Obtenci√≥n del c√≥digo de respuesta</strong><br>
        <code>int responseCode = con.getResponseCode();</code><br>
        <code>System.out.println("Response Code: " + responseCode);</code><br>
        Se imprime el c√≥digo HTTP recibido.
      </li>

      <li>
        <strong>Impresi√≥n de encabezados HTTP</strong><br>
        <code>con.getHeaderFields().forEach((key, value) -> { System.out.println(key + ": " + value); });</code><br>
        Se recorren e imprimen todos los encabezados de la respuesta.
      </li>

      <li>
        <strong>Lectura del contenido HTML</strong><br>
        <code>
          try (BufferedReader in = new BufferedReader(new InputStreamReader(con.getInputStream()))) {<br>
          &nbsp;&nbsp;String inputLine;<br>
          &nbsp;&nbsp;StringBuffer response = new StringBuffer();<br>
          &nbsp;&nbsp;while ((inputLine = in.readLine()) != null) {<br>
          &nbsp;&nbsp;&nbsp;&nbsp;response.append(inputLine);<br>
          &nbsp;&nbsp;}<br>
          }
        </code><br>
        Se lee el contenido HTML l√≠nea por l√≠nea.
      </li>

      <li>
        <strong>Impresi√≥n del contenido</strong><br>
        <code>System.out.println("Response:");</code><br>
        <code>System.out.println(response.toString());</code><br>
        Se imprime el HTML completo en consola.
      </li>

      <li>
        <strong>Manejo de errores</strong><br>
        <code>catch (IOException | URISyntaxException e) { e.printStackTrace(); }</code><br>
        Se capturan errores de red o de formato URI.
      </li>

      <li>
        <strong>Finalizaci√≥n</strong><br>
        <code>System.out.println("Web scraping finalizado.");</code><br>
        Mensaje final que indica que el scraping ha terminado.
      </li>
    </ol>
  </div>
</div>


<div class="box">
  <button class="button is-link is-light" onclick="toggleSection('scrapingLibs')">üìö Referencias a librer√≠as de scraping</button>
  <div id="scrapingLibs" class="content is-hidden mt-3">
    <table class="table is-striped is-fullwidth">
      <thead>
        <tr>
          <th>Librer√≠a</th>
          <th>Descripci√≥n</th>
          <th>Ventajas</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><strong>JSoup</strong></td>
          <td>Analiza y manipula HTML f√°cilmente con selectores tipo CSS.</td>
          <td>Ligera, r√°pida, ideal para scraping estructurado.</td>
        </tr>
        <tr>
          <td><strong>HtmlUnit</strong></td>
          <td>Simula un navegador sin interfaz gr√°fica.</td>
          <td>Soporta JavaScript, cookies y formularios.</td>
        </tr>
        <tr>
          <td><strong>Selenium WebDriver</strong></td>
          <td>Automatiza navegadores reales para scraping din√°mico.</td>
          <td>Perfecto para sitios con JavaScript complejo.</td>
        </tr>
        <tr>
          <td><strong>Apache HttpClient</strong></td>
          <td>Realiza peticiones HTTP avanzadas.</td>
          <td>Mayor control sobre headers, sesiones y autenticaci√≥n.</td>
        </tr>
      </tbody>
    </table>

    <h3 class="title is-5">üß™ Ejemplo con JSoup</h3>
    <pre><code>
import org.jsoup.Jsoup;
import org.jsoup.nodes.Document;
import org.jsoup.select.Elements;

public class JsoupScraping {
  public static void main(String[] args) throws Exception {
    Document doc = Jsoup.connect("https://java.com").get();
    Elements headers = doc.select("h1");
    System.out.println("Encabezado principal: " + headers.text());
  }
}
    </code></pre>
    <p class="has-text-grey">üîç Este ejemplo conecta con <code>https://java.com</code> y extrae el texto del encabezado principal usando JSoup.</p>
  </div>
</div>

      <div class="notification is-success">
        ‚úÖ Esta gu√≠a est√° basada en el ejemplo de <strong>WebScraping</strong> y su ejecuci√≥n sobre <strong>https://java.com</strong>.
      </div>
    </div>
  </section>
</body>
</html>
