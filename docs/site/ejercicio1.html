<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Gu√≠a del Ejercicio 1 - Java Avanzado</title>
  <link rel="shortcut icon" href="./favicon.ico" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.4/css/bulma.min.css">
  <link rel="stylesheet" type="text/css" href="css/site.css" />
</head>
<body>
<section class="hero is-info">
  <div class="hero-body">
    <div class="container is-vcentered has-text-centered">
          <figure class="image is-96x96 is-pulled-left">
            <img src="images/logo_cja.png" alt="Logo del Curso Java Avanzado">
          </figure>
          <h1 class="title">Curso de Java Avanzado</h1>
          <h2 class="subtitle">Domina las tecnolog√≠as modernas con Java</h2>
    </div>
  </div>
</section>
  <section class="hero is-fullheight">
    <div class="container">
      <h1 class="title has-text-primary">Ejercicio 1: Java Avanzado</h1>
      <h2 class="subtitle">Curso: Programaci√≥n orientada a objetos</h2>

      <div class="box">
        <h3 class="title is-4">üéØ 1. Objetivo</h3>
        <p>Desarrollar una aplicaci√≥n Java que:</p>
        <ul>
          <li>Se conecte a una p√°gina web ficticia con cotizaciones del IBEX 35.</li>
          <li>Extraiga el nombre de cada empresa y su √∫ltima cotizaci√≥n.</li>
          <li>Almacene estos datos en una base de datos SQLite.</li>
        </ul>
      </div>

      <div class="box">
        <h3 class="title is-4">üîç 2. Primera parte: Extracci√≥n de informaci√≥n</h3>
        <p>La aplicaci√≥n debe conectarse a la URL <a href="https://taferk.github.io/CursoJavaAvanzado/site/ejercicio1_ibex35.html">proporcionada</a> y analizar el HTML para extraer:</p>
        <ul>
          <li><strong>Nombre de la empresa</strong></li>
          <li><strong>√öltima cotizaci√≥n</strong></li>
        </ul>

        <p class="mt-3">Puedes usar expresiones regulares o m√©todos como <code>split</code>, <code>substring</code>, etc.</p>

        <article class="message is-warning">
          <div class="message-header">
            <p>Consejo</p>
          </div>
          <div class="message-body">
            El HTML debe procesarse en una sola l√≠nea (sin saltos de l√≠nea) para facilitar el an√°lisis.
          </div>
        </article>

        <h4 class="title is-5 mt-5">üìÑ Expresiones Regulares Sugeridas</h4>
        <p><strong>Extraer el &lt;tbody&gt; de la tabla:</strong></p>
        <pre><code>Pattern tableBodyPattern = 
Pattern.compile("&lt;table id=\\"id-listado-acciones\\".+?&lt;tbody&gt;(.+?)&lt;/tbody&gt;&lt;/table&gt;");
Matcher tableBodyMatcher = tableBodyPattern.matcher(html.toString());</code></pre>

        <p><strong>Extraer cada fila con nombre y cotizaci√≥n:</strong></p>
        <pre><code>Pattern trPattern = 
Pattern.compile("&lt;tr&gt;.+?&lt;a.+?&gt;(.+?)&lt;/a&gt;&lt;/td&gt;&lt;td&gt;(.+?)&lt;/td&gt;.+?&lt;/tr&gt;");
Matcher trMatcher = trPattern.matcher(tbody);
while (trMatcher.find()) {
    String nombre = trMatcher.group(1);
    String cotizacion = trMatcher.group(2);
    System.out.println(nombre + ": " + cotizacion);
}</code></pre>
      </div>

      <div class="box">
        <h3 class="title is-4">üóÉÔ∏è 3. Segunda parte: Almacenamiento en base de datos</h3>
        <p>Crear una base de datos SQLite con una tabla llamada <strong>COTIZACIONES</strong>:</p>
        <ul>
          <li>Campos: <code>NOMBRE</code> y <code>ULTIMO</code>, ambos de tipo texto.</li>
          <li>Puede crearse manualmente con DB Browser for SQLite.</li>
        </ul>

        <h4 class="title is-5 mt-4">üìå Pasos del programa Java</h4>
        <ol>
          <li>Extraer los datos como en la primera parte.</li>
          <li>Ejecutar <code>DELETE FROM COTIZACIONES</code> para limpiar la tabla.</li>
          <li>Insertar los 35 valores con sentencias <code>INSERT INTO</code>.</li>
        </ol>

        <article class="message is-info mt-5">
          <div class="message-header">
            <p>Verificaci√≥n</p>
          </div>
          <div class="message-body">
            Comprobar en DB Browser que los 35 valores se han insertado correctamente.
          </div>
        </article>
      </div>

      <div class="notification is-success">
        <strong>üì¶ Entrega:</strong> C√≥digo fuente del proyecto (Eclipse), base de datos con los valores insertados, todo en un archivo ZIP.
      </div>
    </div>
  </section>
</body>
</html>
